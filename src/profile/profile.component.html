<h1 class="content__main-title content__main-title_small">Редактирование профиля</h1>
<div class="form__alert form__alert_style2">
    <div class="form__alert-icon">
        <div class="svg-icon svg-icon_icon-alert">
            <svg>
                <use xlink:href="#icon-alert"></use>
            </svg>
        </div>
    </div>
    <span>Как повысить эффективность Вашей системы очень ощутимо?
            <br />Граммотно заполните и настройте Ваш профиль.</span>
</div>
<form class="form">
    <div class="row stretch-md">
        <div class="col-md-4 col-lg-3">
            <div class="content__item content__item_num">
                <div class="content__num">1</div>
                <h2 class="form__title">Ваше фото<span class="tooltip" tooltip="<span>Рекомендации по фото: лицо крупным планом, искренняяя улыбка, приятный фон, хорошее освящение, открытость и направленность глаз на обьектив.</span>" [options]="{'tooltip-class': 'tooltip__content', 'theme': 'light'}">
                    <span class="tooltip__icon">
                      <div class="svg-icon svg-icon_icon-inform">
                        <svg>
                          <use xlink:href="#icon-inform"></use>
                        </svg>
                      </div>
                    </span>
                  </span>
                </h2>
                <label *ngIf="!profile.iconUrl" class="photo-file">
                    <input id="avatar" class="photo-file__input" type="file" accept="image/*" name="avatar" (change)="onImageSelect($event)"/>
                    <span class="photo-file__preview">
                  </span>
                    <span class="photo-file__icon">
                    <div class="svg-icon svg-icon_icon-plus">
                      <svg>
                        <use xlink:href="#icon-plus"></use>
                      </svg>
                    </div>
                    <div class="svg-icon svg-icon_icon-photo">
                      <svg width="49" height="42" viewBox="0 0 49 42" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <mask id="mask-photo" fill="white">
                          <path fill-rule="evenodd" clip-rule="evenodd" d="M15.0586 3.88955C15.5663 1.89559 17.3618 0.5 19.4194 0.5H30.5806C32.6382 0.5 34.4337 1.89559 34.9414 3.88955L35.6061 6.5H42C45.5899 6.5 48.5 9.41015 48.5 13V35C48.5 38.5899 45.5899 41.5 42 41.5H7C3.41015 41.5 0.5 38.5899 0.5 35V27.3177C0.5 27.0415 0.723858 26.8177 1 26.8177C1.27614 26.8177 1.5 27.0415 1.5 27.3177V35C1.5 38.0376 3.96243 40.5 7 40.5H42C45.0376 40.5 47.5 38.0376 47.5 35V13C47.5 9.96243 45.0376 7.5 42 7.5H35.2175C34.9889 7.5 34.7894 7.34493 34.733 7.12338L33.9723 4.13632C33.5774 2.58546 32.1809 1.5 30.5806 1.5H19.4194C17.8191 1.5 16.4226 2.58546 16.0277 4.13632L15.267 7.12338C15.2106 7.34493 15.0111 7.5 14.7825 7.5H7C3.96243 7.5 1.5 9.96243 1.5 13V15.3282C1.5 15.6043 1.27614 15.8282 1 15.8282C0.723858 15.8282 0.5 15.6043 0.5 15.3282V13C0.5 9.41015 3.41015 6.5 7 6.5H14.3939L15.0586 3.88955ZM1 18.8147C1.27614 18.8147 1.5 19.0385 1.5 19.3147V22.6279C1.5 22.9041 1.27614 23.1279 1 23.1279C0.723858 23.1279 0.5 22.9041 0.5 22.6279V19.3147C0.5 19.0385 0.723858 18.8147 1 18.8147Z" />
                        </mask>
                        <path d="M15.0586 3.88955L16.9967 4.38308V4.38308L15.0586 3.88955ZM34.9414 3.88955L36.8796 3.39601V3.39601L34.9414 3.88955ZM35.6061 6.5L33.668 6.99353C33.8937 7.87974 34.6917 8.5 35.6061 8.5V6.5ZM34.733 7.12338L32.7948 7.61692L32.7948 7.61695L34.733 7.12338ZM33.9723 4.13632L32.0342 4.62985L32.0342 4.62985L33.9723 4.13632ZM16.0277 4.13632L14.0895 3.64278V3.64278L16.0277 4.13632ZM15.267 7.12338L13.3289 6.62985L13.3289 6.62985L15.267 7.12338ZM14.3939 6.5V8.5C15.3083 8.5 16.1063 7.87974 16.332 6.99353L14.3939 6.5ZM19.4194 -1.5C16.4474 -1.5 13.8538 0.515857 13.1204 3.39601L16.9967 4.38308C17.2788 3.27533 18.2763 2.5 19.4194 2.5V-1.5ZM30.5806 -1.5H19.4194V2.5H30.5806V-1.5ZM36.8796 3.39601C36.1461 0.515857 33.5526 -1.5 30.5806 -1.5V2.5C31.7237 2.5 32.7212 3.27533 33.0033 4.38309L36.8796 3.39601ZM37.5443 6.00647L36.8796 3.39601L33.0033 4.38308L33.668 6.99353L37.5443 6.00647ZM42 4.5H35.6061V8.5H42V4.5ZM50.5 13C50.5 8.30558 46.6944 4.5 42 4.5V8.5C44.4853 8.5 46.5 10.5147 46.5 13H50.5ZM50.5 35V13H46.5V35H50.5ZM42 43.5C46.6944 43.5 50.5 39.6944 50.5 35H46.5C46.5 37.4853 44.4853 39.5 42 39.5V43.5ZM7 43.5H42V39.5H7V43.5ZM-1.5 35C-1.5 39.6944 2.30558 43.5 7 43.5V39.5C4.51472 39.5 2.5 37.4853 2.5 35H-1.5ZM-1.5 27.3177V35H2.5V27.3177H-1.5ZM1 24.8177C-0.380713 24.8177 -1.5 25.937 -1.5 27.3177H2.5C2.5 28.1461 1.82843 28.8177 1 28.8177V24.8177ZM3.5 27.3177C3.5 25.937 2.38071 24.8177 1 24.8177V28.8177C0.171572 28.8177 -0.5 28.1461 -0.5 27.3177H3.5ZM3.5 35V27.3177H-0.5V35H3.5ZM7 38.5C5.067 38.5 3.5 36.933 3.5 35H-0.5C-0.5 39.1421 2.85786 42.5 7 42.5V38.5ZM42 38.5H7V42.5H42V38.5ZM45.5 35C45.5 36.933 43.933 38.5 42 38.5V42.5C46.1421 42.5 49.5 39.1421 49.5 35H45.5ZM45.5 13V35H49.5V13H45.5ZM42 9.5C43.933 9.5 45.5 11.067 45.5 13H49.5C49.5 8.85786 46.1421 5.5 42 5.5V9.5ZM35.2175 9.5H42V5.5H35.2175V9.5ZM32.7948 7.61695C33.0769 8.72466 34.0744 9.5 35.2175 9.5V5.5C35.9034 5.5 36.5019 5.96521 36.6711 6.62982L32.7948 7.61695ZM32.0342 4.62985L32.7948 7.61692L36.6711 6.62985L35.9105 3.64278L32.0342 4.62985ZM30.5806 3.5C31.2664 3.5 31.8649 3.9652 32.0342 4.62985L35.9105 3.64279C35.2899 1.20572 33.0954 -0.5 30.5806 -0.5V3.5ZM19.4194 3.5H30.5806V-0.5H19.4194V3.5ZM17.9658 4.62985C18.1351 3.9652 18.7336 3.5 19.4194 3.5V-0.5C16.9046 -0.5 14.7101 1.20573 14.0895 3.64278L17.9658 4.62985ZM17.2052 7.61692L17.9658 4.62985L14.0895 3.64278L13.3289 6.62985L17.2052 7.61692ZM14.7825 9.5C15.9256 9.5 16.9231 8.72467 17.2052 7.61691L13.3289 6.62985C13.4981 5.9652 14.0966 5.5 14.7825 5.5V9.5ZM7 9.5H14.7825V5.5H7V9.5ZM3.5 13C3.5 11.067 5.067 9.5 7 9.5V5.5C2.85786 5.5 -0.5 8.85786 -0.5 13H3.5ZM3.5 15.3282V13H-0.5V15.3282H3.5ZM1 17.8282C2.38071 17.8282 3.5 16.7089 3.5 15.3282H-0.5C-0.5 14.4997 0.171572 13.8282 1 13.8282V17.8282ZM-1.5 15.3282C-1.5 16.7089 -0.380713 17.8282 1 17.8282V13.8282C1.82843 13.8282 2.5 14.4997 2.5 15.3282H-1.5ZM-1.5 13V15.3282H2.5V13H-1.5ZM7 4.5C2.30558 4.5 -1.5 8.30558 -1.5 13H2.5C2.5 10.5147 4.51472 8.5 7 8.5V4.5ZM14.3939 4.5H7V8.5H14.3939V4.5ZM13.1204 3.39601L12.4557 6.00647L16.332 6.99353L16.9967 4.38308L13.1204 3.39601ZM3.5 19.3147C3.5 17.934 2.38071 16.8147 1 16.8147V20.8147C0.171573 20.8147 -0.5 20.1431 -0.5 19.3147H3.5ZM3.5 22.6279V19.3147H-0.5V22.6279H3.5ZM1 25.1279C2.38071 25.1279 3.5 24.0086 3.5 22.6279H-0.5C-0.5 21.7995 0.171573 21.1279 1 21.1279V25.1279ZM-1.5 22.6279C-1.5 24.0086 -0.380712 25.1279 1 25.1279V21.1279C1.82843 21.1279 2.5 21.7995 2.5 22.6279H-1.5ZM-1.5 19.3147V22.6279H2.5V19.3147H-1.5ZM1 16.8147C-0.380712 16.8147 -1.5 17.934 -1.5 19.3147H2.5C2.5 20.1431 1.82843 20.8147 1 20.8147V16.8147Z" fill="#FF5D00" mask="url(#mask-photo)" />
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M24.5 34C30.299 34 35 29.299 35 23.5C35 17.701 30.299 13 24.5 13C18.701 13 14 17.701 14 23.5C14 29.299 18.701 34 24.5 34Z" stroke="#FF5D00" />
                        <path d="M24.5 16C20.3579 16 17 19.3579 17 23.5" stroke="#FF5D00" stroke-linecap="round" stroke-linejoin="round" />
                        <rect x="6.5" y="3.5" width="6" height="2" rx="1" stroke="#FF5D00" />
                        <path d="M33.5 12.5H38.5" stroke="#FF5D00" stroke-linecap="round" stroke-linejoin="round" />
                        <path d="M40.5 12.5H42.5" stroke="#FF5D00" stroke-linecap="round" stroke-linejoin="round" />
                      </svg>
                    </div>
                  </span>
                    <span class="photo-file__text">Добавить фото</span>
                </label>
                <img *ngIf="!!profile.iconUrl" [src]="dataBaseUrl + profile.iconUrl" width="150">
            </div>
        </div>
        <div class="col-md-8 col-lg-9">
            <div class="content__item content__item_num">
                <div class="content__num">2</div>
                <h2 class="form__title">Основная информация</h2>
                <div class="form__group w-76">
                    <div class="form__name" [ngClass]="{error:emptyFirstName}">Имя</div>
                    <input class="form__control" type="text" name="firstName" [(ngModel)]="profile.firstName" [ngClass]="{error:emptyFirstName}" />
                </div>
                <div class="form__group w-76">
                    <div class="form__name" [ngClass]="{error:emptySecondName}">Фамилия</div>
                    <input class="form__control" type="text" name="secondName" [(ngModel)]="profile.secondName" [ngClass]="{error:emptySecondName}" />
                </div>
                <div class="form__group w-76 column-md" *ngIf="!disabledReferId">
                    <div class="form__name" [ngClass]="{error:emptyReferId || invalidReferId || notUniqueReferId}">Адрес страницы<div class="tooltip" tooltip="<div>Неизменяемое поле, ссылка для приглашений на Ваш сайт.<br>Это поле должно состоять только из латинский букв и цифр, пробелы и другие символы запрещены.</div>" [options]="{'tooltip-class': 'tooltip__content', 'theme': 'light'}">
                        <div class="tooltip__icon">
                            <div class="svg-icon svg-icon_icon-inform">
                                <svg>
                                    <use xlink:href="#icon-inform"></use>
                                </svg>
                            </div>
                        </div>
                    </div>
                    </div>
                    <div class="form__wrap form__wrap_link">
                        <div class="form__name form__name_gray">behappy24.com/</div>
                        <input class="form__control" type="text" name="referId" [(ngModel)]="profile.referId" [ngClass]="{error:emptyReferId || invalidReferId || notUniqueReferId}" [disabled]="disabledReferId"/>
                    </div>
                </div>
                <div class="form__group form__group_alert" *ngIf="disabledReferId">
                    <div class="form__name form__name_auto">Ваша ссылка для приглашений доступна в разделе "Продвижение"</div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-6">
            <div class="content__item content__item_num">
                <div class="content__num">3</div>
                <h2 class="form__title">Расскажите о себе</h2>
                <div class="form__group form__group_column">
                    <div class="form__name form__name_auto" [ngClass]="{error:emptyQuestionWhoAreYou}">Кто вы?<div class="tooltip" tooltip="<div>Пару слов о себе. Кто вы? Чем занимаетесь? Какой жизненный опыт у вас за плечами?</div>" [options]="{'tooltip-class': 'tooltip__content', 'theme': 'light'}">
                        <div class="tooltip__icon">
                            <div class="svg-icon svg-icon_icon-inform">
                                <svg>
                                    <use xlink:href="#icon-inform"></use>
                                </svg>
                            </div>
                        </div>
                        <div class="tooltip__content">Пару слов о себе. Кто вы? Чем занимаетесь? Какой жизненный опыт у вас за плечами?</div>
                    </div>
                    </div>
                    <textarea class="form__control form__control_textarea" name="questionWhoAreYou" [(ngModel)]="profile.questionWhoAreYou"  [ngClass]="{error:emptyQuestionWhoAreYou}"></textarea>
                </div>
                <div class="form__group form__group_column">
                    <div [ngClass]="{error:emptyQuestionValue}" class="form__name form__name_auto">Почему Вы присоединились к BH24?<div class="tooltip" tooltip="<div>Какие ценности, возможности, решения и перспективы Вас привлекли в BeHappy24?</div>" [options]="{'tooltip-class': 'tooltip__content', 'theme': 'light'}">
                        <div class="tooltip__icon">
                            <div class="svg-icon svg-icon_icon-inform">
                                <svg>
                                    <use xlink:href="#icon-inform"></use>
                                </svg>
                            </div>
                        </div>
                    </div>
                    </div>
                    <textarea class="form__control form__control_textarea" name="questionValue" [ngClass]="{error:emptyQuestionValue}" [(ngModel)]="profile.questionValue"></textarea>
                </div>
                <div class="form__group form__group_column">
                    <div [ngClass]="{error:emptyQuestionStaff}" class="form__name form__name_auto">Какие качества Вы цените в людях?</div>
                    <textarea class="form__control form__control_textarea" name="questionStaff" [ngClass]="{error:emptyQuestionStaff}" [(ngModel)]="profile.questionStaff"></textarea>
                </div>
                <div class="form__group form__group_column">
                    <div [ngClass]="{error:emptyQuestionWhy}" class="form__name form__name_auto">С кем бы Вы не хотели сотрудничать?</div>
                    <textarea class="form__control form__control_textarea" name="questionWhy" [ngClass]="{error:emptyQuestionWhy}" [(ngModel)]="profile.questionWhy"></textarea>
                </div>
                <div class="form__group form__group_column">
                    <div [ngClass]="{error:emptyQuestionResults}" class="form__name form__name_auto">К каким результатам Вы готовы сопроводить?<div class="tooltip" tooltip="<div>Например: Отбираю 5 человек и помогаю выйти на доход от 1,000$ за первые 3 месяца.</div>" [options]="{'tooltip-class': 'tooltip__content', 'theme': 'light'}">
                        <div class="tooltip__icon">
                            <div class="svg-icon svg-icon_icon-inform">
                                <svg>
                                    <use xlink:href="#icon-inform"></use>
                                </svg>
                            </div>
                        </div>
                    </div>
                    </div>
                    <textarea class="form__control form__control_textarea" name="questionResults" [ngClass]="{error:emptyQuestionResults}" [(ngModel)]="profile.questionResults"></textarea>
                </div>
            </div>
        </div>
        <div class="col-6">
            <div class="content__item content__item_num">
                <div class="content__num">4</div>
                <h2 class="form__title">Основные контакты</h2>
                <div class="form__group">
                    <div class="form__name" [ngClass]="{error:emptyPhoneNumber}">Телефон</div>
                    <input class="form__control" type="tel" name="phoneNumber" [(ngModel)]="profile.phoneNumber" [ngClass]="{error:emptyPhoneNumber}" />
                </div>
                <div class="form__group">
                    <div class="form__name" [ngClass]="{error:emptyEmail || invalidEmail || notUniqueEmail}">Email</div>
                    <input class="form__control" type="email" name="email" [(ngModel)]="profile.email" [ngClass]="{error:emptyEmail || invalidEmail || notUniqueEmail}" />
                </div>
                <div class="form__separator"></div>
                <h2 class="form__title">Социальные сети и мессенджеры</h2>
                <div class="form__group form__group_social" *ngFor="let messenger of messengers;">
                    <div class="social-label">
                        <div class="social-label__icon active">
                            <div class="social">
                                <div class="social__item">
                                    <div [attr.class]="'svg-icon ' + messenger.style">
                                        <svg>
                                            <use [attr.xlink:href]="messenger.icon"></use>
                                        </svg>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <input class="form__control" type="text" [name]="messenger.name" [(ngModel)]="messenger.value"/>
                </div>
            </div>
            <div class="content__item content__item_num">
                <div class="content__num">5</div>
                <h2 class="form__title">Ваш логин и пароль для входа в кабинет</h2>
                <div class="form__group">
                    <div [ngClass]="{error:emptyLogin || invalidLogin || notUniqueLogin}" class="form__name">Логин<div class="tooltip" tooltip="<div>Ваше имя и фамилия - это лучший логин в системе!
                            <br /> Пример рекомендуемого логина: maksimivanov, mivanov. Логин не должен содержать пробелы и спецсимволы.</div>" [options]="{'tooltip-class': 'tooltip__content', 'theme': 'light'}">
                        <div class="tooltip__icon">
                            <div class="svg-icon svg-icon_icon-inform">
                                <svg>
                                    <use xlink:href="#icon-inform"></use>
                                </svg>
                            </div>
                        </div>
                    </div>
                    </div>

                    <input class="form__control" type="text" name="login" [ngClass]="{error:emptyLogin || invalidLogin || notUniqueLogin}" [(ngModel)]="profile.login" [disabled]="disabledLogin" />
                </div>
                <div class="form__group">
                    <div class="form__name" [ngClass]="{error:wrongConfirmPassword || emptyPassword || invalidPassword}">Пароль<div class="tooltip" tooltip="<div>Пароль должен содержать хотя бы одну заглавную, одну прописную букву латинского алфавита  цифру и спецсимвол. Минимум 6 символов.</div>" [options]="{'tooltip-class': 'tooltip__content', 'theme': 'light'}">
                        <div class="tooltip__icon">
                            <div class="svg-icon svg-icon_icon-inform">
                                <svg>
                                    <use xlink:href="#icon-inform"></use>
                                </svg>
                            </div>
                        </div>
                    </div>
                    </div>

                    <input class="form__control" type="password" name="password" [ngClass]="{error:wrongConfirmPassword || emptyPassword || invalidPassword}" [(ngModel)]="profile.password" [disabled]="passwordIsExist"/>
                </div>
                <div class="form__group" *ngIf="!passwordIsExist">
                    <div class="form__name" [ngClass]="{error:wrongConfirmPassword||emptyPassword}">Повторите пароль</div>
                    <input class="form__control" type="password" name="confirmPassword" [(ngModel)]="confirmPassword" [ngClass]="{error:wrongConfirmPassword||emptyPassword}" [disabled]="passwordIsExist"/>
                </div>
                <p *ngIf="wrongConfirmPassword" class="form__error-msg">Пароли не совпадают.</p>
            </div>
        </div>
    </div>
    <div class="text-center">
        <button class="btn btn_primary btn_form" type="submit" (click)="submitClick()">Сохранить</button>
    </div>
</form>